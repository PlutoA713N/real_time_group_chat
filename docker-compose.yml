version: '3.8'

services:
  # ğŸŸ¦ Your Node.js App
  app:
    build: .                    # ğŸ”§ Build the image from Dockerfile in the current directory
    ports:
      - '5000:5000'             # ğŸ” Map container port 5000 to local machine's port 5000
    env_file:
      - .env
    environment:
      - MONGO_URI=${MONGO_URI}  # ğŸŒ Tell Node.js to connect to MongoDB service
      - JWT_SECRET_KEY=${JWT_SECRET_KEY}                    # ğŸ”’ Your appâ€™s environment variable
#    depends_on:
#      - mongo                   # ğŸ”„ Wait for MongoDB to start before booting Node app

#  # ğŸƒ MongoDB Container
#  mongo:
#    image: mongo                # ğŸ—ï¸ Use official MongoDB image from DockerHub
#    restart: always             # ğŸ” Auto-restart MongoDB if it crashes
#    ports:
#      - '27017:27017'           # (optional) expose Mongo port to host system
#    volumes:
#      - mongo_data:/data/db     # ğŸ’¾ Persist MongoDB data across container restarts
#
## ğŸ”– Named volume to store MongoDB data
#volumes:
#  mongo_data:
